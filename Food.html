<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <style>
    /* .main-container {
      text-align: center;
      /* background-image: linear-gradient(rgb(33, 64, 121), rgb(122, 164, 243)) ;  */

      /* background-image:pngtree-png-image_1701364;  */

    /* } */
       body {
   background: radial-gradient(circle,rgb(253, 246, 148), white);
      }

    #sidesearch {

      margin-left: 50px;

      /* background-color: lightgrey; */
    }

    .brand-logo {
      margin-left: 100px;

    } 

  </style>

  <!-- Compiled and minified CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
</head>

<body>

  <nav>
    <div class="nav-wrapper">
      <a href="#" class="brand-logo">Recipe Search</a>
      <ul id="nav-mobile" class="right hide-on-med-and-down">
        <li><a href="sass.html">Sass</a></li>
        <li><a href="badges.html">Components</a></li>
        <li><a href="collapsible.html">JavaScript</a></li>
      </ul>
    </div>
  </nav>

  <!-- Page Layout here -->
  <div id="sidesearch" class="row">

    <div class="col s3">
      <form>
        <p>
          <label for="name">Recipe name</label>
          <input type="text" name="name" id="name">
        </p>
        <button id="search">Search for Recipe</button>
      </form>
      <!-- <div id="RecipeDisplay"></div> -->
    </div>

    <div class="col s9">
      <div id="ingredients"></div>
    </div>

  </div>

  <!-- <div>  -->

  <!-- <img src="pngtree-png-image_1701364.jpg" style="transform: translate3d(-50%, 326.222px, 0px); opacity: 1;"> -->
  <!-- <img width="1500px" height="800px" src="pngtree-png-image_1701364.jpg"> -->


  <!-- <button id="btn">click me</button>

  <div id="ingredients"></div> -->
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

  <script>
    document.getElementById('search').addEventListener('click', event => {
      event.preventDefault()

      let name = document.getElementById('name').value



      //d7ef68f1acc34dedb93dd4613a30a40f

      //axios.get(`https://api.spoonacular.com/recipes/complexSearch?query=chicken&apiKey=d7ef68f1acc34dedb93dd4613a30a40f&includeNutrition=true`)

      //axios.get(`https://api.spoonacular.com/recipes/complexSearch?query=pasta&apiKey=d7ef68f1acc34dedb93dd4613a30a40f&includeNutrition=true`)
      axios.get(`https://api.spoonacular.com/recipes/complexSearch?query=${name}&apiKey=9e7d249518a54e1791464c0dda14f365`)

        // axios.get('https://api.spoonacular.com/recipes/716429/information?apiKey=d7ef68f1acc34dedb93dd4613a30a40f&includeNutrition=true')
        .then(res => {

          let ingredients = res.data.results

          console.log(ingredients)

          for (let i = 0; i < ingredients.length; i++) {

           console.log(i)

            document.getElementById('ingredients').innerHTML += `
            <h5>dish: ${ingredients[i].title}</h5>
            <img src="${ingredients[i].image}" alt="${ingredients.title}"
            >
            <button data-recipe_id=${ingredients[i].id}>see recipe</button>
            `

            document.getElementById('name').value = ''

            document.getElementById('ingredients').value = ''


          }


        })

        .catch(err => {
          console.error(err)
        })

    })

  </script>

</body>

</html>